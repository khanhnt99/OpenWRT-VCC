# InfluxDB 
## 1. Note
- Check port used `lsof -i :8086`

|InfluxDB|MySQL|
|--------|-----|
|`measurement` (index là thời gian)|`table`|
|`tags`, được hỗ trợ đánh index để hỗ trợ việc GROUP các câu query | `column`|
|`value` - giá trị cho việc phân tích dữ liệu |`column`|

## 2. Concepts 
- **InfluxDB** là một cơ sở dữ liệu chuỗi thời gian `(time series database)`.
- Tất cả các dữ liệu trong **InfluxDB** đều có cột thời gian.
- Cột thời gian chứa các `timestamps - show the date and time`.
- Các cột khác ngoài cột thời gian được gọi là các `Field`.
- `Field values` chứa các data, vì **InfluxDB** là time series database nên mỗi giá trị của `Field` luôn liên kết với một dấu thời thời gian.

```
SELECT * FROM cpu Limit 1
name: cpu
time                cpu       host     usage_guest usage_guest_nice usage_idle        usage_iowait        usage_irq usage_nice usage_softirq usage_steal usage_system        usage_user
----                ---       ----     ----------- ---------------- ----------        ------------        --------- ---------- ------------- ----------- ------------        ----------
1616041880000000000 cpu-total ubuntu16 0           0                99.19759277833573 0.10030090270812642 0         0          0             0           0.20060180541624392 0.501504513540592
```

```
> SELECT * FROM cpu WHERE cpu='cpu-total' limit 10
name: cpu
time                cpu       host     usage_guest usage_guest_nice usage_idle        usage_iowait        usage_irq usage_nice usage_softirq usage_steal         usage_system        usage_user
----                ---       ----     ----------- ---------------- ----------        ------------        --------- ---------- ------------- -----------         ------------        ----------
1616041880000000000 cpu-total ubuntu16 0           0                99.19759277833573 0.10030090270812642 0         0          0             0                   0.20060180541624392 0.501504513540592
1616041890000000000 cpu-total ubuntu16 0           0                99.49799196786967 0.1004016064257003  0         0          0             0                   0.1004016064257003  0.30120481927711873
1616041900000000000 cpu-total ubuntu16 0           0                99.79939819458393 0                   0         0          0             0                   0.10030090270812196 0.10030090270813978
1616041910000000000 cpu-total ubuntu16 0           0                99.49698189134855 0                   0         0          0             0                   0.20120724346077706 0.30181086519112094
1616041920000000000 cpu-total ubuntu16 0           0                99.69939879759546 0                   0         0          0             0.10020040080160311 0.20040080160320178 0
1616041930000000000 cpu-total ubuntu16 0           0                98.8977955911811  0                   0         0          0             0                   0.30060120240480265 0.8016032064128427
1616041940000000000 cpu-total ubuntu16 0           0                99.39759036144633 0.10040160642570477 0         0          0             0                   0.1004016064257003  0.4016064257028012
1616041950000000000 cpu-total ubuntu16 0           0                99.39939939939993 0                   0         0          0             0                   0.2002002002002181  0.4004004004004006
1616041960000000000 cpu-total ubuntu16 0           0                99.6990972918759  0.10030090270812196 0         0          0             0                   0.20060180541624392 0
1616041970000000000 cpu-total ubuntu16 0           0                99.69939879759546 0                   0         0          0             0                   0.30060120240480265 0
```

## 3. Guides
```
root@TIGserver:~# influx --execute 'SELECT * FROM cpu limit 1' --database='ubuntu16'
name: cpu
time                cpu       host     usage_guest usage_guest_nice usage_idle        usage_iowait        usage_irq usage_nice usage_softirq usage_steal usage_system        usage_user
----                ---       ----     ----------- ---------------- ----------        ------------        --------- ---------- ------------- ----------- ------------        ----------
1616041880000000000 cpu-total ubuntu16 0           0                99.19759277833573 0.10030090270812642 0         0          0             0           0.20060180541624392 0.501504513540592
```

```
root@TIGserver:~# influx --format=column
Connected to http://localhost:8086 version 1.8.4
InfluxDB shell version: 1.8.4
> use ubuntu16
Using database ubuntu16
> SELECT * FROM disk limit 1
name: disk
time                device free        fstype host     inodes_free inodes_total inodes_used mode path total       used       used_percent
----                ------ ----        ------ ----     ----------- ------------ ----------- ---- ---- -----       ----       ------------
1616041870000000000 sda1   65362309120 ext4   ubuntu16 8131886     8192000      60114       rw   /    66549706752 1170620416 1.7594602013828269
```

