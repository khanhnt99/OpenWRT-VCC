# Tổng quan
## 1. Telegraf concepts 
### 1.1 Telegraf metrics
- Telegraf **metrics** được sử dụng để lập mô hình dữ liệu trong quá trình xử lí.
- Các **metric** này dựa trên mô hình dữ liệu của **InfluxDB**.
- **Metrics** chứa 4 thành phần chính 
   + **Measurement name:** Mô tả và `namespace` cho dữ liệu.
   + **Tags:** Các cặp chuỗi khóa/giá trị và thường được sử dụng để xác định số liệu.
   + **Fields** Các cặp khóa/giá trị được nhập và thường chứa dữ liệu **metric**.
   + **Timestamp:** Ngày và giờ liên quan đến các **Field**

```
> show MEASUREMENTS
name: measurements
name
----
cpu
disk
diskio
kernel
mem
net
processes
swap
system
```
```
> show FIELD KEYS
name: cpu
fieldKey         fieldType
--------         ---------
usage_guest      float
usage_guest_nice float
usage_idle       float
usage_iowait     float
usage_irq        float
usage_nice       float
usage_softirq    float
usage_steal      float
usage_system     float
usage_user       float

name: disk
fieldKey     fieldType
--------     ---------
free         integer
inodes_free  integer
inodes_total integer
inodes_used  integer
total        integer
used         integer
used_percent float
```
```
> SELECT usage_idle FROM cpu WHERE cpu = 'cpu-total' LIMIT 5
name: cpu
time                usage_idle
----                ----------
1616041880000000000 99.19759277833573
1616041890000000000 99.49799196786967
1616041900000000000 99.79939819458393
1616041910000000000 99.49698189134855
1616041920000000000 99.69939879759546
```

### 1.2 Tổng hợp Telegraf và các Plugin xử lí
![](https://i.ibb.co/T2WdYLb/Screenshot-from-2021-03-19-08-45-54.png)

- **Processor plugins** xử lí các **metrics** khi chúng đi qua và ngay lập tức đưa ra các kết quả dựa trên các giá trị mà chúng xử lí.
- **Aggregator plugins** thưởng tạo ra các **metric** mới, ví dụ như giá trị trung bình đang chay, giá trị nhỏ nhất, giá trị lớn nhất,...

## 2. Data formats
### 2.1 Input Data formats 
- https://docs.influxdata.com/telegraf/v1.17/data_formats/input/

### 2.2 Output Data formats
- https://docs.influxdata.com/telegraf/v1.17/data_formats/output/

__Docs__
- https://docs.influxdata.com/telegraf/v1.17/concepts/aggregator_processor_plugins/
- https://docs.influxdata.com/telegraf/v1.17/concepts/glossary/
